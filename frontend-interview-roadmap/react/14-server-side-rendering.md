
# 14. Server-Side Rendering (SSR) in React

## Quick Revision

**Server-Side Rendering (SSR)** is the process of rendering a client-side single-page application (SPA) on the server and sending a fully rendered HTML page to the browser. This can improve performance and SEO.

In contrast, **Client-Side Rendering (CSR)** is the default approach for SPAs, where the browser downloads a minimal HTML page and the JavaScript bundle, and then React renders the application in the browser.

## Detailed Explanation

### How SSR Works

1.  A user requests a page from the server.
2.  The server fetches any necessary data and renders the React application to an HTML string.
3.  The server sends the fully rendered HTML page to the browser.
4.  The browser displays the HTML page to the user. The user can see the content of the page before the JavaScript has finished downloading.
5.  The browser downloads the JavaScript bundle.
6.  React runs on the client and attaches itself to the existing HTML (a process called **hydration**). The application is now fully interactive.

### Benefits of SSR

*   **Improved Performance:** The user sees the content of the page faster because they don't have to wait for the JavaScript to download and execute.
*   **Better SEO:** Search engine crawlers can easily index a fully rendered HTML page. With CSR, some crawlers may have difficulty indexing the content because it is generated by JavaScript.

### Challenges of SSR

*   **Complexity:** Setting up SSR can be more complex than CSR.
*   **Server Load:** SSR can increase the load on your server because it has to render the application for each request.

### Frameworks for SSR

Frameworks like **Next.js** and **Gatsby** make it much easier to build server-rendered React applications.

*   **Next.js:** A popular framework for building production-ready React applications with built-in support for SSR, Static Site Generation (SSG), and more.
*   **Gatsby:** A static site generator that can also be used for SSR.

## Code Example (Conceptual)

Here is a simplified example of how you might implement SSR with Node.js and Express:

```jsx
// server.js
import express from 'express';
import React from 'react';
import ReactDOMServer from 'react-dom/server';
import App from './App';

const app = express();

app.get('/', (req, res) => {
  const appHtml = ReactDOMServer.renderToString(<App />);

  const html = `
    <html>
      <head>
        <title>My App</title>
      </head>
      <body>
        <div id="root">${appHtml}</div>
        <script src="/bundle.js"></script>
      </body>
    </html>
  `;

  res.send(html);
});

app.listen(3000);
```

## Resources

*   **Article:** [React Docs - Rendering on the Server](https://reactjs.org/docs/rendering-on-the-server.html)
*   **Framework:** [Next.js](https://nextjs.org/)
*   **Framework:** [Gatsby](https://www.gatsbyjs.com/)
*   **Video:** [Server-Side Rendering with React and Node.js - Academind](https://www.youtube.com/watch?v=NlYfh7_j-vI)
